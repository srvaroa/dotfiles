# account info -------------------------------
set from = "%EMAIL_FROM%"
set realname = "%EMAIL_NAME%"
set imap_user = "%EMAIL%"
# set imap_pass = # empty, prompt for it
set smtp_url = "smtp://%EMAIL%@%SMTP_SERVER%:587/"
# set smtp_pass = # ask
#
# mutt config -------------------------------

# FOLDERS
set folder           = imaps://%IMAP_SERVER%/
set spoolfile        = imaps://%IMAP_SERVER%/INBOX
set alias_file       = ~/.mutt/alias         # where to store aliases
set header_cache     = ~/.mutt/cache/headers # where to store headers
set message_cachedir = ~/.mutt/cache/bodies  # where to store bodies
set certificate_file = ~/.mutt/certificates  # where to store certs
set mailcap_path     = ~/.mutt/mailcap       # entries for filetypes
set tmpdir           = ~/.mutt/temp          # where to keep temp files

# Other special folders.
set mbox      = "=All Mail" # move here when removed from inbox
set postponed = "=Drafts"
set record = "=Sent"

# sendmail
set timeout=3         # idle time before scanning
set sendmail_wait = 0

# Options
set abort_nosubject=yes # don't let me send messages with an empty subject
set abort_unmodified=no	# let me send empty messages
set attribution="On %d, %n wrote:"	# how to attribute replies
set auto_tag			# always operate on tagged messages
set copy=yes			# always save a copy of outgoing messages
set edit_headers		# let me edit the message header when composing
set editor="vim"
set header_cache=~/.mutt/cache/headers
set imap_check_subscribed
set include=yes         # always include a copy when replying
set mail_check=0        # min time between scans
set menu_scroll         # scroll line by line rather than pages
set message_cachedir=~/.mutt/cache/bodies
set move=no
set nobeep				# Shut up
set nomarkers           # Don't show wrap markers
set nomark_old			# I don't care about whether a message is old
set sort_aux = reverse-last-date-received
set sort = threads	    # like gmail
set ssl_starttls=yes
set timeout=60	        # min time between scans

unset mark_old	        # read / new is just enough

# HEADER OPTIONS -----------------------------
ignore *                # ignore all headers
unignore from: to: cc: date: subject:	# show only these
hdr_order Date From To Cc

# DEAL with HTML emails ----------------------
alternative_order text/plain text/html *
auto_view text/enriched
auto_view text/html     # Automatically parse html messages through w3m
auto_view text/x-vcard  # vcard attachments viewed through mutt.vcard.filter
set implicit_autoview=yes  # Load in pager if setting in .mailcap says 'copiousoutput'.

# Index view options -------------------------
set date_format = "%d-%m"
set index_format = "[%Z] %D %-20.20F  %s"
set uncollapse_jump 	# don't collapse on an unread msg
set sort_re		        # thread based on regex
set reply_regexp = "^(([Rr][Ee]?(\[[0-9]+\])?: *)?(\[[^]]+\] *)?)*"

# Index key bindings -------------------------
bind index gg   first-entry
bind index G    last-entry
bind index R  group-reply
bind index <tab>    sync-mailbox
bind index <space>  collapse-thread
bind index C    copy-message
bind index M    save-message

# pager
bind pager R  group-reply
bind pager "\177" previous-line # backspace binding, for osx

# Editor view options ------------------------
bind editor <Tab> complete-query
bind editor ^T complete
bind editor <space> noop

# Urls
macro pager \Cu "|urlview<enter>" "call urlview to open links"

# collapse threads by default
folder-hook . "exec collapse-all"

# colours
source ~/.mutt/muttcolours
